https://www.cnblogs.com/MonaSong/p/6362265.html
https://blog.csdn.net/leiocai/article/details/78991189

https://blog.csdn.net/sinat_38566034/article/details/76065284


# 2. 版本控制
让团队成员了解Git，为什么要使用Git进行团队，使用Git能对团队有哪些帮助，
Git的基本操作。
那么，简单地说，Git 究竟是怎样的一个系统呢？ 请注意接下来的内容非常重要，若你理解了 Git 的思想和基本工作原理，用起来就会知其所以然，游刃有余。 在开始学习 Git 的时候，请努力分清你对其它版本管理系统的已有认识，如 Subversion 等；这么做能帮助你使用工具时避免发生混淆。 Git 在保存和对待各种信息的时候与其它版本控制系统有很大差异，尽管操作起来的命令形式非常相近，理解这些差异将有助于防止你使用中的困惑。
直接记录快照，而非差异比较
Git 和其它版本控制系统（包括 Subversion 和近似工具）的主要差别在于 Git 对待数据的方法。 概念上来区分，其它大部分系统以文件变更列表的方式存储信息。 这类系统（CVS、Subversion、Perforce、Bazaar 等等）将它们保存的信息看作是一组基本文件和每个文件随时间逐步累积的差异。

Git 不按照以上方式对待或保存数据。 反之，Git 更像是把数据看作是对小型文件系统的一组快照。 每次你提交更新，或在 Git 中保存项目状态时，它主要对当时的全部文件制作一个快照并保存这个快照的索引。 为了高效，如果文件没有修改，Git 不再重新存储该文件，而是只保留一个链接指向之前存储的文件。 Git 对待数据更像是一个 快照流。

### 2.1. Git使用

在 Windows 和 OS X 下都有人性化的 Git 安装程序。一般来说，安装程序会在你升级 Git
时试图保持你的设置不变。
安装程序可以从下面的网页下载：
http://git-scm.com/downloads
如果你使用 Linux 或 Unix 系统，那么可能已经安装了 Git，但应该升级到最新版本。使用
你的包管理工具来完成这一步（见 B.3 节）。OS X 用户或许同样希望使用包管理工具来安
装并更新 Git。    
### 2.2. 访问模型

如果你使用版本控制系统已经很长时间了，那么或许会想起 CVS、Subversion 等使用中央
仓库的版本控制系统。图 2-1 展示了在 Subversion 的集中式系统中更改是如何发生和流动
的。在这个系统中，当你每次想要保存一份仓库中的工作快照时，你和所有人的快照其实
都存放到了同一个地方。当你想要共享工作，或提交代码审查时，如果有人刚刚在同一分
支更新他们的工作，你可能就无法完成操作。

图 2-1：Subversion 中的文件操作
在另一方面，Git 是一个分布式的版本控制系统。也就是说，与强制将更改记录在中央仓
库的集中式代码托管系统相比，使用 Git 每个人都能够独立工作，并且在自己本地的仓库
副本中提交更改。这意味着其他开发者的修改永远不会强制进入你的作品。相反，你可以
决定什么时候引入外部代码以及什么时候共享你的工作。

连接其他仓库
尽管在使用 Git 时，人们经常提到在没有网络的飞机上编写代码这个例子，我
认为 Git 真正的优点在于你可以私下里更多地尝试你的想法。你可以创建新
的分支，思考代码中的新想法，并且在自己准备好了之后再连接其他仓库。
如果你做过 MBTI 职业性格测试（https://en.wikipedia.org/wiki/Myers%E2% 
80%93Briggs_Type_Indicator），Git 大概是 INTP（内向／直觉／理性／理解）
类型的，而 Subversion 大概是 ESFJ（外倾／感觉／情感／判断）类型的。
每当你开始使用 Git 时，对于你的电脑来说你使用的是集中式系统开发方式，如图 2-2 所
示，仓库中的更改全部存放在你自己的机器上。你完成一些工作，然后将这些工作保存到
你本地的仓库。当你准备好将工作共享给别人时，连接到远程仓库，将你特定分支的副本
推送上去。
在本地保存工作

图 2-2：Git 中的文件操作
把工作完全存放在本地就太大材小用了！相反，我们连接到其他系统，通过远程仓库可以
共享我们的代码。
Git 不提供访问控制，允许任何开发者拥有仓库的完整读写权限。在最外层，你通过登录
控制来限制访问。我在自己的机器上开发，而你没有权限访问，因此你无法更改我的仓
库。一旦我将仓库放在共享的区域，比如集中式代码托管服务器，我们需要共同协商如何
管理仓库的访问权限。
一些 Git 托管系统，如 Bitbucket，允许细粒度、分支独立的权限控制；但是，大多数托管
系统只允许你对每个仓库设置访问控制。也就是说，你要么可以在仓库中任意分支上提
交，要么只能通过拉取请求来提交贡献。
18 ｜ 第 2 章
在本节中，我们介绍了下面三种最流行的访问模型。
• 单一仓库共同维护模型：团队中的每个人都是维护者，有权限向项目仓库上传更改。
• 并列贡献者仓库模型：提交贡献的开发者创建一个项目的远程副本，等待项目维护者接
受他们的更改。
• 分散贡献者仓库模型：代码通过文本格式的补丁包共享。
在本节结束时，你会学会如何将这些方法贯穿起来，建立一个适合你的团队的访问模型。

### 2.3. 分支策略



在版本控制中，分支用于隔离一块代码上产生的不同想法。分支总是起源于代码库中的某
个特定节点。分支类似于新工作开始时仓库内部的分隔。创建分支时你可能想要将工作贡献回去，也可能想要隔离不同的工作。分支本身并不关心跟踪的是什么更改！它们的职责仅仅是跟踪更改。
使用什么分支策略取决于你的发布管理流程。分支允许你更改项目工作目录中可见的文件，
并且一次只会有一个分支活跃。大多数分支策略是根据粗粒度的想法分隔项目中的工作。
这个想法可以是软件的版本，比如，版本 1、版本 2、版本 3。这些软件版本或许能使你联想到分支上正在进行的工作。根据它们代表的功能名称，这些想法被分隔在不同分支。这
些想法可能是一个 bug 修复或是一个新的功能，但它们也可以表示一个完整的小想法。
本章概述了以下内容。
• 如何为你的团队选择一种分支约定
• 主线开发
• 功能分支部署
• 状态分支
• 计划部署
分支的使用方式没有任何限制。这既是好事，又是坏事。一些人为的限制（约定）将会帮
助你考虑团队的无限可能。

### 2.4. 工作流

使用 Git 的工作方式可能会很快变得非常复杂，而且复杂度越高，要记住所有事情就越困难。在你的团队中要建立约定来维护一致性，以帮助你快速理解你的代码历史。
在本节中，你将学到以下内容。
• 记录团队进展的基本工具
• 文档应该放在什么地方
• 什么类型的事情需要记录
• 工单系统中的样例状态
与你的团队聊聊他们想要怎样协作这个问题，这永远都不迟；改善你现有的流程也永远都
不晚。如果你使用敏捷方法，那么应该已经安排了专门用于回顾会议的时间，或是使用持
续改善（Kaizen）方法来评审开发过程



